<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			html,body {
				width: 100%; height: 100%;
				background: url(images/bg.jpg);
				overflow: hidden;
			}
			.fireworm {
				width: 18px;
				height: 18px;
				position: absolute;
			}
			
		</style>
		<script src="move.js"></script>
		<script>
			onload = function(){
				
				//Fireworm
				//属性： ele
				//方法：fly()
				
				
				//构造函数
				function Fireworm(){
					
					//属性
					//ele
					this.ele = document.createElement("img");
										
					//方法
					//init: 初始化属性
					this.init = function(){
						document.body.appendChild(this.ele);
						this.ele.src = "images/1.jpg";
						this.ele.className = "fireworm";
						this.ele.style.left = this.randomPoint().left + "px";
						this.ele.style.top = this.randomPoint().top + "px";
						return this;
					}
					
					//fly
					this.fly = function(){
						var that = this;
						animate(this.ele, this.randomPoint(), function(){
							//console.log(this); //window
							that.fly();
						});
					}
					
					//页面随机位置
					this.randomPoint = function (){
						var x = parseInt(Math.random()*(document.documentElement.clientWidth-18));
						var y = parseInt(Math.random()*(document.documentElement.clientHeight-18));
						return {left:x, top:y};
					}
				}
				
				
				
				
				//var fireworm = new Fireworm();
				//fireworm.fly();
				
				//new Fireworm().fly();
				
				
				var count = 3;
				var timer = setInterval(function(){
					
					if (count-- > 0) {
						var fireworm = new Fireworm(); //new一个对象后，所有的方法会遍历一遍但是不会执行，所以fireworm.init()中的this.randompoint不会报错
						fireworm.init().fly();
					}
					else  {
						clearInterval(timer);
					}
					
				}, 1000);
				
			}
		</script>
	</head>
	<body>
		
	</body>
</html>
